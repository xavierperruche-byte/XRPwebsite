import{g as getDocument,a as getWindow}from"../shared/ssr-window.esm.min.mjs";import{d as elementParents,f as elementOffset}from"../shared/utils.min.mjs";function Keyboard({swiper:e,extendParams:t,on:n,emit:a}){const r=getDocument(),l=getWindow();function i(t){if(!e.enabled)return;const{rtlTranslate:n}=e;let i=t;i.originalEvent&&(i=i.originalEvent);const o=i.keyCode||i.charCode,s=e.params.keyboard.pageUpDown,d=s&&33===o,f=s&&34===o,m=37===o,c=39===o,b=38===o,p=40===o;if(!e.allowSlideNext&&(e.isHorizontal()&&c||e.isVertical()&&p||f))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&m||e.isVertical()&&b||d))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||r.activeElement&&(r.activeElement.isContentEditable||r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase())))){if(e.params.keyboard.onlyInViewport&&(d||f||m||c||b||p)){let t=!1;if(elementParents(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===elementParents(e.el,`.${e.params.slideActiveClass}`).length)return;const a=e.el,r=a.clientWidth,i=a.clientHeight,o=l.innerWidth,s=l.innerHeight,d=elementOffset(a);n&&(d.left-=a.scrollLeft);const f=[[d.left,d.top],[d.left+r,d.top],[d.left,d.top+i],[d.left+r,d.top+i]];for(let e=0;e<f.length;e+=1){const n=f[e];if(n[0]>=0&&n[0]<=o&&n[1]>=0&&n[1]<=s){if(0===n[0]&&0===n[1])continue;t=!0}}if(!t)return}e.isHorizontal()?((d||f||m||c)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),((f||c)&&!n||(d||m)&&n)&&e.slideNext(),((d||m)&&!n||(f||c)&&n)&&e.slidePrev()):((d||f||b||p)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),(f||p)&&e.slideNext(),(d||b)&&e.slidePrev()),a("keyPress",o)}}function o(){e.keyboard.enabled||(r.addEventListener("keydown",i),e.keyboard.enabled=!0)}function s(){e.keyboard.enabled&&(r.removeEventListener("keydown",i),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),n("init",()=>{e.params.keyboard.enabled&&o()}),n("destroy",()=>{e.keyboard.enabled&&s()}),Object.assign(e.keyboard,{enable:o,disable:s})}export{Keyboard as default};
//# sourceMappingURL=keyboard.min.mjs.map